</br>
</br>

<div align="center">
  <a href="https://novu.co" target="_blank">
  <picture>
    <source media="(prefers-color-scheme: dark)" srcset="https://user-images.githubusercontent.com/8872447/165779319-34962ccc-3149-466c-b1da-97fd93254520.png">
    <img src="https://user-images.githubusercontent.com/8872447/165779274-22a190da-3284-487e-bd1e-14983df12cbb.png" width="280" alt="Logo"/>
  </picture>
  </a>
</div>

<h1 align="center">Notification management simplified.</h1>


<div align="center">
The ultimate service for managing multi-channel notifications with a single API.
</div>

  <p align="center">
    <br />
    <a href="https://docs.novu.co" rel="dofollow"><strong>Explore the docs »</strong></a>
    <br />

  <br/>
    <a href="https://github.com/novuhq/novu/issues/new?assignees=&labels=type%3A+bug&template=bug_report.yml&title=%F0%9F%90%9B+Bug+Report%3A+">Report Bug</a>
    ·
    <a href="https://github.com/novuhq/novu/issues/new?assignees=&labels=feature&template=feature_request.yml&title=%F0%9F%9A%80+Feature%3A+">Request Feature</a>
    ·
  <a href="https://discord.novu.co">Join Our Discord</a>
    ·
    <a href="https://github.com/orgs/novuhq/projects/10">Roadmap</a>
    ·
    <a href="https://twitter.com/novuhq">Twitter</a>
  </p>

## API Documentation

This repository is the tool used to generate the API documentation using [Gatsby](https://www.gatsbyjs.com/) static sites generator.
The content is retrieved from Novu's API Swagger set in the [API app](https://github.com/novuhq/novu/blob/1c40d2b5ff39ae9d5e0ab9714f2600061e25028e/apps/api/src/bootstrap.ts#L95), parsed and generated by Gatsby.

## 🚀 Getting Started

### Local development

In order to run the API documentation generator locally you will need [NPM](https://www.npmjs.com/) installed in your local environment.

Then you firstly will install the project.
```sh
npm install
```

And then to run it.
```sh
npm start
```

Behind the scenes, the `start` script what it does is to call the `develop` script that runs Gatsby locally, executing the fetching of all the data, its parsing and generating the static content with the documentation for Novu's API.

For development purposes is recommended to set this environment variable located in `./.env` (generated by copying `./.env.example`.
```sh
GATSBY_NOVU_API_URL=http://localhost:3000
NOVU_API_URL=http://localhost:3000
```
You would need to set the value of the URL where your local development Novu API is being deployed. By default configuration Novu API is set to `http://localhost:3000` but be aware that changing the default port values or where it is deployed will have a knock on effect for the API documentation generator here.
`GATSBY_NOVU_API_URL` will render the proper URL in the content generated by Gatsby, allowing to quickly copy and paste the code examples generated for development use.


### How it works?

Basically we [fetch](https://github.com/novuhq/api-docs/blob/756f34e8ebfa464973bf4a8b31640b39ed150dd0/src/utils/get-all-data.js#L11) all the information from the Swagger endpoint of Novu API `/api-json` and that data is being parsed.
There are two key things for the Swagger data to be able to be parsed. One is to define the [`tags`](https://github.com/novuhq/novu/blob/1c40d2b5ff39ae9d5e0ab9714f2600061e25028e/apps/api/src/bootstrap.ts#L81) for the different API resources. Second one is to add to the different public API endpoints that are going to be documented, the property `summary` with a short description of what the endpoint is for. 
Once the content is parsed and based on how it is defined in Swagger, Gatsby will generate the static content with the API endpoint definitions provided and some examples.
